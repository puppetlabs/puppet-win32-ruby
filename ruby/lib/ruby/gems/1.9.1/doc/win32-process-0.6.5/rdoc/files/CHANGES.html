<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: CHANGES</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>CHANGES</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>CHANGES
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Tue Jan 24 22:11:13 -0800 2012</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>0.6.5 - 27-Dec-2010</h1>
<ul>
<li>Fixed getpriority and setpriority so that the underlying process handle is
always closed. Thanks go to Rafal Michalski for the spot and patch.

</li>
<li>Updated getpriority and setpriority so that there are no longer any default
arguments. This now matches the MRI spec.

</li>
<li>Updated <a href="../classes/Process.html#M000011">Process.create</a> so
that illegal options now raise an ArgumentError instead of a <a
href="../classes/Process/Error.html">Process::Error</a>.

</li>
<li>Fixed a bug in an error message in the <a
href="../classes/Process.html#M000011">Process.create</a> method where the
actual error message was getting lost.

</li>
<li>Refactored the test suite to use test-unit 2.x features, and make tests a
little more robust in general.

</li>
</ul>
<h1>0.6.4 - 13-Nov-2010</h1>
<ul>
<li>Altered the wait, wait2, waitpid and waitpid2 methods to match the current
MRI interface, i.e. they accept and optional pid and flags, though the
latter is ignored. Thanks go to Robert Wahler for the spot.

</li>
<li>Renamed the example scripts to avoid any potential confusion with actual
test scripts and cleaned them up a bit.

</li>
<li>Added Rake tasks to run the example programs.

</li>
<li>Updated the MANIFEST.

</li>
</ul>
<h1>0.6.3 - 9-Nov-2010</h1>
<ul>
<li>Fixed a bug in the <a
href="../classes/Process.html#M000010">Process.kill</a> method where the
remote thread created was not being properly closed. Thanks go to Ben Nagy
for the spot.

</li>
<li>Added the Process.job? method that returns whether or not the current
process is already in a job.

</li>
<li>Added the <a href="../classes/Process.html#M000004">Process.setrlimit</a>
method. Like the <a
href="../classes/Process.html#M000003">Process.getrlimit</a> method it only
supports a limited subset of resources.

</li>
<li>Rakefile tweaks.

</li>
</ul>
<h1>0.6.2 - 19-Dec-2009</h1>
<ul>
<li>Fixed an issue where stdin, stdout and stderr might not be inheritable even
if the inherit option was set. Thanks go to Michael Buselli for the spot
and the patch.

</li>
<li>Added a basic implementation of <a
href="../classes/Process.html#M000003">Process.getrlimit</a>.

</li>
<li>Added the <a
href="../classes/Process.html#M000001">Process.get_affinity</a> method.

</li>
<li>Added test-unit 2.x and sys-proctable as development dependencies.

</li>
<li>Added the :uninstall and :build_gem Rake tasks to the Rakefile.

</li>
<li>Bumped required version of windows-pr to 1.0.6.

</li>
</ul>
<h1>0.6.1 - 16-Jul-2009</h1>
<ul>
<li>Added the <a href="../classes/Process.html#M000007">Process.uid</a> method.
This method returns a user id (really, the RID of the SID) by default, but
can also take an optional parameter to return a binary SID instead at the
user&#8216;s discretion.

</li>
<li>Added working implementations of <a
href="../classes/Process.html#M000005">Process.getpriority</a> and <a
href="../classes/Process.html#M000006">Process.setpriority</a>. Note they
they only work for processes, not process groups or users.

</li>
<li>Set license to Artistic 2.0, and updated the gemspec.

</li>
</ul>
<h1>0.6.0 - 31-Oct-2008</h1>
<ul>
<li>The mandatory argument for <a
href="../classes/Process.html#M000011">Process.create</a> has been switched
from &#8216;app_name&#8217; to &#8216;command_line&#8217;, to be more in
line with underlying CreateProcess API. Note that
&#8216;command_line&#8217; will default to &#8216;app_name&#8217; if only
the latter is set, but both may be set individually. Keep in mind that
&#8216;app_name&#8217; must be a full path to the executable. Thanks go to
Jeremy Bopp for the patch.

</li>
<li>Removed the deprecated ProcessError constant. Use <a
href="../classes/Process/Error.html">Process::Error</a> instead.

</li>
<li>Explicitly include and extend the Windows::Thread module now. Thanks go to
Qi Lu for the spot.

</li>
<li>Slightly more robust internal code handling for some of the other methods,
typically related to ensuring that HANDLE&#8216;s are closed.

</li>
<li>Example programs are now included with the gem.

</li>
</ul>
<h1>0.5.9 - 14-Jun-2008</h1>
<ul>
<li>Added a proper implementation of <a
href="../classes/Process.html#M000014">Process.ppid</a>.

</li>
</ul>
<h1>0.5.8 - 24-Mar-2008</h1>
<ul>
<li>Fixed a bug in <a href="../classes/Process.html#M000011">Process.create</a>
where the handles in the PROCESS_INFORMATION struct were not closed,
regardless of the &#8216;close_handles&#8217; option. Thanks go to Lars
Christensen for the spot and the patch.

</li>
</ul>
<h1>0.5.7 - 27-Mar-2008</h1>
<ul>
<li>Fixed issues with thread_inherit and process_inherit in the <a
href="../classes/Process.html#M000011">Process.create</a> method. This in
turn required an update to windows-pr. Thanks go to Steve Shreeve for the
spot.

</li>
<li>Fixed a potential issue with startf_flags and stdin/stdout/stderr handling.
Thanks again go to Steve Shreeve for the spot and the patch.

</li>
<li>Fixed the code so that it no longer emits redefinition warnings.

</li>
<li>Fixed a bug in the Rake install task (for non-gem installations).

</li>
</ul>
<h2>0.5.6 - 13-Mar-2008</h2>
<ul>
<li>Fixed a bug in the <a
href="../classes/Process.html#M000009">Process.waitpid2</a> method where it
wasn&#8216;t returning the proper exit code. Thanks go to Jeremy Bopp for
the spot and the patch.

</li>
<li>In the spirit of DWIM, if the &#8216;stdin&#8217;, &#8216;stdout&#8217; or
&#8216;stderr&#8217; keys are encountered in the startup_info hash, then
the inherit flag is automatically set to true and the startf_flags key is
automatically OR&#8216;d with the STARTF_USESTDHANDLES value. Thanks go to
Sander Pool for the inspiration.

</li>
</ul>
<h2>0.5.5 - 12-Dec-2007</h2>
<ul>
<li>The <a href="../classes/Process.html#M000011">Process.create</a> method now
automatically closes the process and thread handles in the ProcessInfo
struct before returning, unless you explicitly tell it not to via the
&#8216;close_handles&#8217; option.

</li>
<li>The <a href="../classes/Process.html#M000011">Process.create</a> method now
supports creating a process as another user via the
&#8216;with_logon&#8217;, &#8216;password&#8217; and &#8216;domain&#8217;
options.

</li>
</ul>
<h2>0.5.4 - 23-Nov-2007</h2>
<ul>
<li>Changed ProcessError to <a
href="../classes/Process/Error.html">Process::Error</a>.

</li>
<li>Now requires windows-pr 0.7.3 or later because of some reorganization in
that library with regards to thread functions.

</li>
<li>Better cleanup of HANDLE&#8216;s in a couple methods when failure occurs.

</li>
<li>Added an additional require/include necessitated by a change in the method
organization in the windows-pr library.

</li>
</ul>
<h2>0.5.3 - 29-Jul-2007</h2>
<ul>
<li>Added a Rakefile with tasks for installation and testing.

</li>
<li>Removed the install.rb file (now handled by the Rakefile).

</li>
<li>Updated the README and MANIFEST files.

</li>
</ul>
<h2>0.5.2 - 22-Jan-2007</h2>
<ul>
<li>The startup_info parameter for the <a
href="../classes/Process.html#M000011">Process.create</a> method now
accepts &#8216;stdin&#8217;, &#8216;stdout&#8217;, and &#8216;stderr&#8217;
as valid parameters, which you can pass a Ruby IO object or a fileno in
order to redirect output from the created process.

</li>
</ul>
<h2>0.5.1 - 24-Aug-2006</h2>
<ul>
<li>Fixed a bug in the <a
href="../classes/Process.html#M000011">Process.create</a> method where the
return value for CreateProcess() was being evaluated incorrectly. Thanks go
to David Haney for the spot.

</li>
<li>Added a slightly nicer error message if an invalid value is passed to the
<a href="../classes/Process.html#M000011">Process.create</a> method.

</li>
<li>Removed an extraneous &#8217;%&#8217; character from an error message.

</li>
</ul>
<h2>0.5.0 - 29-Jul-2006</h2>
<ul>
<li>The <a href="../classes/Process.html#M000011">Process.create</a> method now
returns a ProcessInfo struct instead of the pid. Note that you can still
grab the pid out of the struct if needed.

</li>
<li>The <a href="../classes/Process.html#M000011">Process.create</a> method now
allows the process_inherit and thread_inherit options which determine
whether a process or thread object&#8216;s handles are inheritable,
respectively.

</li>
<li>The wait and wait2 methods will now work if GetProcessId() isn&#8216;t
defined on your system.

</li>
<li>The &#8216;inherit?&#8217; hash option was changed to just
&#8216;inherit&#8217; (no question mark).

</li>
<li>Minor doc correction - the &#8216;inherit&#8217; option defaults to false,
not true.

</li>
</ul>
<h2>0.4.2 - 29-May-2006</h2>
<ul>
<li>Fixed a typo/bug in <a
href="../classes/Process.html#M000010">Process.kill</a> for signal 3, where
I had accidentally used CTRL_BRK_EVENT instead of the correct
CTRL_BREAK_EVENT. Thanks go to Luis Lavena for the spot.

</li>
</ul>
<h2>0.4.1 - 13-May-2006</h2>
<ul>
<li>Fixed a bug where spaces in $LOAD_PATH would cause <a
href="../classes/Process.html#M000015">Process.fork</a> to fail. Thanks go
to Justin Bailey for the spot and patch.

</li>
<li>Added a short synopsis to the README file.

</li>
</ul>
<h2>0.4.0 - 7-May-2006</h2>
<ul>
<li>Now pure Ruby, courtesy of the Win32API package.

</li>
<li>Now comes with a gem.

</li>
<li>Modified <a href="../classes/Process.html#M000010">Process.kill</a> to send
a signal to the current process if pid 0 is specified, as per the current
1.8 behavior.

</li>
<li><a href="../classes/Process.html#M000011">Process.create</a> now accepts
the &#8216;environment&#8217; key/value, where you can pass a
semicolon-separated string as the environment for the new process.

</li>
<li>Moved the GUI related options of <a
href="../classes/Process.html#M000011">Process.create</a> to subkeys of the
&#8216;startup_info&#8217; key. See documentation for details.

</li>
<li>Replaced Win32::ProcessError with just ProcessError.

</li>
</ul>
<h2>0.3.3 - 16-Apr-2006</h2>
<ul>
<li>Fixed a bug in <a href="../classes/Process.html#M000011">Process.create</a>
with regards to creation_flags. Thanks go to Tophe Vigny for the spot.

</li>
</ul>
<h2>0.3.2 - 12-Aug-2005</h2>
<ul>
<li>Fixed a bug in <a href="../classes/Process.html#M000010">Process.kill</a>
where a segfault could occur. Thanks go to Bill Atkins for the spot.

</li>
<li>Changed VERSION to WIN32_PROCESS_VERSION, because it&#8216;s a module.

</li>
<li>Made the CHANGES, README and doc/process.txt documents rdoc friendly.

</li>
<li>Removed the process.rd file.

</li>
</ul>
<h2>0.3.1 - 9-Dec-2004</h2>
<ul>
<li>Modified <a href="../classes/Process.html#M000015">Process.fork</a> to
return an actual PID instead of a handle. This means that it should work
with <a href="../classes/Process.html#M000010">Process.kill</a> and other
methods that expect an actual PID.

</li>
<li>Modified <a href="../classes/Process.html#M000010">Process.kill</a> to
understand the strings &quot;SIGINT&quot;, &quot;INT&quot;,
&quot;SIGBRK&quot;, &quot;BRK&quot;, &quot;SIGKILL&quot; and
&quot;KILL&quot;. These correspond to signals 2, 3 and 9, respectively.

</li>
<li>Added better $LOAD_PATH handling for <a
href="../classes/Process.html#M000015">Process.fork</a>. Thanks go to Aslak
Hellesoy for the spot and the patch.

</li>
<li>Replaced all instances of rb_sys_fail(0) with rb_raise(). This is because
of a strange bug in the Windows Installer that hasn&#8216;t been nailed
down yet. This means that you can&#8216;t rescue Errno::ENOENT any more,
but will have to rescue StandardError. This only affects <a
href="../classes/Process.html#M000010">Process.kill</a>.

</li>
<li>The signals that were formerly 1 and 2 and now 2 and 3. I did this because
I wanted the same signal number for SIGINT as it is on *nix.

</li>
<li>Added a test_kill.rb script under the examples directory.

</li>
<li>Other minor cleanup and corrections.

</li>
</ul>
<h2>0.3.0 - 25-Jul-2004</h2>
<ul>
<li>Added the create() method.

</li>
<li>Moved the example programs to doc/examples.

</li>
<li>Updated the docs, and toned down claims of fork&#8216;s similarity to the
Unix version.

</li>
<li>Minor updates to the test suite.

</li>
</ul>
<h2>0.2.1 - 17-May-2004</h2>
<ul>
<li>Made all methods module functions, except fork, rather than singleton
methods.

</li>
<li>Minor doc changes.

</li>
</ul>
<h2>0.2.0 - 11-May-2004</h2>
<ul>
<li>Removed the Win32 module/namespace. You no longer &#8216;include
Win32&#8217; and you no longer need to prefix <a
href="../classes/Process.html">Process</a> with &#8216;Win32::&#8217;.

</li>
<li>The fork() method is now a global function as well as a method of the <a
href="../classes/Process.html">Process</a> module. That means you can call
&#8216;fork&#8217; instead of &#8216;<a
href="../classes/Process.html#M000015">Process.fork</a>&#8217; if you like.

</li>
<li>Doc updates to reflect the above changes.

</li>
</ul>
<h2>0.1.1 - 6-Mar-2004</h2>
<ul>
<li>Fixed bug where spaces in the directory name caused the fork() method to
fail (Park).

</li>
<li>Normalized tc_process.rb somewhat to make it easier to run outside of the
test directory if desired.

</li>
<li>Fixed up tc_process.rb a bit.

</li>
</ul>
<h2>0.1.0 - 19-Feb-2004</h2>
<ul>
<li>Initial release

</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>